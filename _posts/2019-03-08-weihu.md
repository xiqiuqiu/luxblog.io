---
layout:     post
title:      "【技能】我的建站之路--维护篇"
subtitle:   "点亮一个新天赋"
date:       2019-03-08
author:     "lux"
header-img: "img/post-bg-unix-linux.jpg"
tags:
    - 基础建站
    

---


### 前言
最近一直都在搞网站的事情，像资源采集，页面调试，去除播放器广告，提升网站安全性等等

直到现在我才发现，原来部署网站这件事情本身其实并不复杂，而后续的网站维护才是灰常的麻烦，

今天这篇文章我就来说说我的网站建成之后还填了哪些坑，在此记录一下，以兹备忘。

### 关于页面模板及调试
在网站部署好之后，遇到的第一个问题就是：

自带的模板太难看，去哪去找一些好看的模板呢？*（友情提醒：文章底部有彩蛋）*

![](https://ws1.sinaimg.cn/large/e66b0ffcly1g0vfaus978j20vo0ln0wc.jpg)

苹果CMS有着非常多的模板资源，各种资源被从网上转来转去，当你要使用这些的时候，千万要小心的就是有些模板开发者会在自己的代码加广告或者劫持流量的代码，

所以在选择的时候要非常小心，这里建议假如你是纯小白而且不愿意花时间折腾

那就选择**首涂模板**或者**m1938工作室**这种专门做模板的商家，支付一点点钱，通常就是1-200块吧。

就可以买到他们的现成模板，这些商家不论服务还是质量都能好一些的。

而如果你不想花钱，也可以；那就多花点时间去试试模板安装上之后是什么效果，一般来说只要本地部署好测一测，就很容易知道模板质量的优劣了。

如果你只是要自己部署在本地，那就直接用宝塔来安装运行环境，非常方便；

最重要的，使用宝塔部署在本地的网站还不会受到监管审查，也就意味着你可以看“任何”你想看的内容了，从此“老师们”也就不需要待在硬盘了。

那自己的网站为例，[章鱼影院](www.luxuxu.space) 我就是使用的首涂的模板，当然了我是网上挡来的，刚开始的时候也是不会搞，所以要么点击页面报错，要么就是网站内容秩序混乱，一会样式丢了，一会连接数据库又出问题。。。。

总之，这些坑都要你一点点去填。所幸，CMS系统中只有少部分的php参与页面渲染，大部分的内容还是使用html + CSS +js去实现，所以调试起来难度也不大，况且很多的问题网友已经给出了回答，你要做的就是多看，多试，一次不行两次总会好的。

/*-------来一张我的“全家福”--*/

![](https://ws1.sinaimg.cn/large/e66b0ffcly1g0vg5iak3wj21400u00wj.jpg)


### 关于网站SSL证书

在开始的时候，我的网站打开之后，浏览器里总会显示“不安全” 

![](https://ws1.sinaimg.cn/large/e66b0ffcly1g0vgpjzvr7j209506kmxb.jpg)

本来这个也不影响正常使用啦，但是头顶老出现这么个东西，不免使我又犯了强迫症......（来,,,盘他）

经过调查，我出现这个的原因是网站域名没有升级成https，那这个https又是个什么东西呢？

> Http（超文本传输协议） + tls/ssl（传输层加密协议） = Https

因为这个```http传输协议```是上个世界的产物，它有一个比较大的缺陷就是：所有信息都是明文传输；发现这个问题之后，后来人们通过在数据传输时加上一层安全防护，也就是ssl协议，来保证数据安全性和完整性。

> 迫于我本身那一点点的计算机知识，也就不方便在去说什么更深层次的东西。一句话，只要你的网页如果没有使用https的协议那就一直被浏览器认为是不安全的站点。

那知道了问题是由于网站没有加入新协议，那我们就来更新协议；要想让你的网站能够使用ssl协议，一个重要步骤就是你得先申请一个ssl证书：

关于证书的选择的话，对于我这样的个人小网站来说，使用免费的就足够了，同样我来列举几个靠谱的机构：

* [Let's Encrypt](https://freessl.cn/) （推荐）

    Let's Encrypt是国外一个公共的免费SSL项目，由 Linux 基金会托管，它的来头不小，由Mozilla、思科、Akamai、IdenTrust和EFF等组织发起，目的就是向网站自动签发和管理免费证书，以便加速互联网由HTTP过渡到HTTPS。
   

* [腾讯云DV SSL 证书](https://cloud.tencent.com/product/ssl)	(推荐)

	腾讯云DV SSL 域名型证书由赛门铁克提供自动审核认证，快速签发，支持自动 CSR 生成、域名身份 DNS 自动验证，
    一步提交申请，审核签发流程全自动。

    可以一键部署到腾讯云资源，轻松获得数据安全。

    可以下载证书，用于其它云商，例如用于阿里云

    可以多次申请，每次一个二级域名，如有多个域名可申请多次

* [阿里云DV SSL证书](https://common-buy.aliyun.com/?commodityCode=cas#/buy)（推荐）

	赛门铁克是 SSL/TLS 证书的领先提供商，为全球一百多万台网络服务器提供安全防护。

    选择赛门铁克后，证书颁发机构 (CA) 将妥善保护您的网站和信誉，让您安枕无忧。

    免费数字证书，最多保护一个明细子域名，不支持通配符，一个阿云帐户最多签发20张免费证书

    保护一个明细域名，例如: mimvp.com，proxy.mimvp.com，blog.mimvp.com，各个明细子域名都算一个域名，

    如果每一个明细域名，都需要配置SSL，则需要分别申请多个免费的SSL证书

* [360网站卫士、百度云加速免费SSL、又拍云、七牛云]()（其他）

	百度云：https://console.bce.baidu.com/cas/  （有免费，不支持导出，只可用于百度云产品）

    七牛云： SSL证书服务（有免费，需登录查看）

    又拍云：SSL证书申购（有免费，需登录查看）

    360网站卫士、百度云加速与Symantec等合作推出了免费的SSL证书，其实类似于上面的腾讯云DV SSL 证书，

    只不过360网站卫士如果要使用SSL证书必须得实名认证，而且还得使用他们家的CDN。

    而百度云加速，只能使用百度云服务器才可以申请免费SSL证书。


以上就是国内比较推荐的证书服务商，重点推荐前三个，大平台值得信赖。

#### 怎么用？

我的环境是云虚拟机是野草云，在腾讯家申请了CA的证书，那我就以此为例。

首先打开腾讯云控制台，在里面找到ssl证书管理，选择并下载你申请好的证书。

![](https://ws1.sinaimg.cn/large/e66b0ffcly1g0viioqsozj20sh07q0t8.jpg)

下载好之后打开，里面是不同服务器对应的配置方式，我的服务器网站是Apache的，所以就看第一个。

![](https://ws1.sinaimg.cn/large/e66b0ffcly1g0vik47rt3j20jh0653yj.jpg)

打开apache的文件夹里面有三个文件，分别是```1和2是你的证书文件``` ```3：是你的私匙```

![](https://ws1.sinaimg.cn/large/e66b0ffcly1g0vimljte9j20ka05nq2x.jpg)

我们要用的就是2和3里的密匙内容。

接下来，打开野草云的操作后台，登陆服务器管理界面(DirectAdmin)在```其他管理```中找到```ssl证书```,

来到页面下方，找到```粘贴事前准备好的证书和密匙```，在输入里贴入上图中```2_www.luxuxu.space.crt ```和```3_www.luxuxu.space.key```文件中的内容

> 注：此处的文件需要使用记事本或编辑器打开。

将里面的内容分别贴入输入框当中，点击保存即可。

![](https://ws1.sinaimg.cn/large/e66b0ffcly1g0vjhcbi47j20oq0e5jzg.jpg)

待证书生效时，你可以使用[SSl状态检测](https://myssl.com/ssl.html)来查看证书信息。验证成功之后，返回你的网站，你就可以看到此时浏览器上已经出现证书信息，之前不安全的提示也消失了。

![](https://ws1.sinaimg.cn/large/e66b0ffcly1g0vj6iu255j20ji0ae7fh.jpg)

> 注：这里其实有点问题，我看网络上很多人都写到要去后台服务去写一个让域名强制重定向的方法，
> 而我在实际操作的时候，并没有遇到需要写方法的地方，而只是在管理后台的域名重定向处做了操作，难道这是我服务商的特点？反正最后好了，也不知道有没效果，且在此记录一下。

![](https://ws1.sinaimg.cn/large/e66b0ffcly1g0vjbn93duj20od0begt4.jpg)


话说上面图上的：“您与此网站之间建立的连接并非完全安全”这条信息，嗯....我查过了腾讯视频也这样，原因估计是源码里面还引入了含有http的链接，这个以后再慢慢优化吧。end.....

> 50+苹果cms模版，自行下载:
https://www.lanzous.com/b622680/ 
密码:d1e0
